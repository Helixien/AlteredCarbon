<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<ThingDef ParentName="BuildingBase">
		<defName>AC_PersonaMatrix</defName>
		<label>persona matrix</label>
		<description>A quantum computing array, designed to store cortical stacks and make backups of them that can be restored if needed. Cortical stacks can be duplicated, when placed inside the array. Backups are synced between arrays, allowing for multiple ones to be built. \n\nStack Arrays will make an automatic backup of any colony cortical stacks that are installed on the local map every 24 hours. Backups are restored to empty cortical stacks if the original stack is destroyed.</description>
		<thingClass>AlteredCarbon.Building_PersonaMatrix</thingClass>
		<tickerType>Normal</tickerType>
		<drawerType>RealtimeOnly</drawerType>
		<graphicData>
			<texPath>Things/Building/Misc/StackArray/StackBackupTerminal</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(4.5,4.5)</drawSize>
			<shaderType>CutoutComplex</shaderType>
			<damageData>
				<cornerTL>Damage/Corner</cornerTL>
				<cornerTR>Damage/Corner</cornerTR>
				<cornerBL>Damage/Corner</cornerBL>
				<cornerBR>Damage/Corner</cornerBR>
			</damageData>
		</graphicData>
		<size>(3,3)</size>
		<statBases>
			<MaxHitPoints>800</MaxHitPoints>
			<WorkToBuild>18000</WorkToBuild>
			<Flammability>1.0</Flammability>
			<Cleanliness>1</Cleanliness>
		</statBases>
<!--		<researchPrerequisites>
			<li>AC_CorticalCrafting</li>
		</researchPrerequisites>-->
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<costList>
			<Steel>250</Steel>
			<Plasteel>150</Plasteel>
			<ComponentSpacer>6</ComponentSpacer>
		</costList>
		<descriptionHyperlinks>
			<ThingDef>AC_FilledPersonaStack</ThingDef>
			<ThingDef>AC_FilledArchotechStack</ThingDef>
		</descriptionHyperlinks>
		<altitudeLayer>BuildingOnTop</altitudeLayer>
		<neverMultiSelect>true</neverMultiSelect>
		<designationCategory>Biotech</designationCategory>
		<hasInteractionCell>True</hasInteractionCell>
		<interactionCellOffset>(0,0,2)</interactionCellOffset>
		<defaultPlacingRot>South</defaultPlacingRot>
		<rotatable>true</rotatable>
		<passability>PassThroughOnly</passability>
		<pathCost>100</pathCost>
		<castEdgeShadows>true</castEdgeShadows>
		<canOverlapZones>false</canOverlapZones>
		<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
		<constructEffect>ConstructMetal</constructEffect>
		<blockWind>true</blockWind>
		<drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
		<uiIconPath>Things/Building/Misc/StackArray/StackBackupTerminal_MenuIcon</uiIconPath>
		<uiIconScale>1.1</uiIconScale>
		<building>
			<ai_chillDestination>false</ai_chillDestination>
			<destroySound>BuildingDestroyed_Metal_Big</destroySound>
			<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
			<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
			<soundAmbient>AC_StackArray_Ambience</soundAmbient>
			<fixedStorageSettings>
				<filter>
					<thingDefs>
						<li>AC_FilledPersonaStack</li>
						<li>AC_MindFrame</li>
					</thingDefs>
				</filter>
			</fixedStorageSettings>
			<defaultStorageSettings>
				<priority>Important</priority>
				<filter>
					<thingDefs>
						<li>AC_FilledPersonaStack</li>
						<li>AC_MindFrame</li>
					</thingDefs>
				</filter>
			</defaultStorageSettings>
			<buildingTags>
				<li>Biotech</li>
			</buildingTags>
		</building>
		<inspectorTabs>
			<li>AlteredCarbon.ITab_StackStorageContents</li>
			<li>AlteredCarbon.ITab_StackBackupContents</li>
		</inspectorTabs>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<shortCircuitInRain>true</shortCircuitInRain>
				<basePowerConsumption>1500</basePowerConsumption>
			</li>
			<li Class="CompProperties_Glower">
				<glowRadius>5</glowRadius>
				<glowColor>(0,181,240,0)</glowColor>
			</li>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Breakdownable"/>
		</comps>
	</ThingDef>
	
	<ThingDef ParentName="BenchBase">
		<defName>AC_NeuralEditor</defName>
		<label>neural editor</label>
		<description>A sophisticated workbench that allows the user to connect to persona stacks in order to alter the contained information, such as changing allegiance, or even wipe them clean. Can also strip the biocoding from items.\n\nAs the process is quite aggressive, there is a risk of the decryption process destroying the item.</description>
		<thingClass>AlteredCarbon.Building_NeuralEditor</thingClass>
		<graphicData>
			<texPath>Things/Building/Misc/HackingWorkbench/HackingWorkbench</texPath>
			<graphicClass>Graphic_Multi</graphicClass>
			<drawSize>(3.5,1.5)</drawSize>
			<damageData>
				<cornerTL>Damage/Corner</cornerTL>
				<cornerTR>Damage/Corner</cornerTR>
				<cornerBL>Damage/Corner</cornerBL>
				<cornerBR>Damage/Corner</cornerBR>
			</damageData>
		</graphicData>
		<size>(3,1)</size>
		<defaultPlacingRot>South</defaultPlacingRot>
		<descriptionHyperlinks>
			<ThingDef>AC_FilledPersonaStack</ThingDef>
		</descriptionHyperlinks>
		<designationCategory>Biotech</designationCategory>
		<statBases>
			<Mass>20</Mass>
			<MaxHitPoints>180</MaxHitPoints>
			<WorkToBuild>5000</WorkToBuild>
			<Flammability>0.5</Flammability>
		</statBases>
		<building>
			<spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
			<ai_chillDestination>false</ai_chillDestination>
			<buildingTags>
				<li>Biotech</li>
			</buildingTags>
		</building>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<researchPrerequisites>
			<li>AC_Hacking</li>
		</researchPrerequisites>
		<costList>
			<Steel>80</Steel>
			<Plasteel>10</Plasteel>
			<ComponentSpacer>2</ComponentSpacer>
		</costList>
		<recipes>
			<li>AC_WipeFilledPersonaStack</li>
			<li>AC_HackBiocodedThings</li>
		</recipes>
		<castEdgeShadows>true</castEdgeShadows>
		<staticSunShadowHeight>0.20</staticSunShadowHeight>
		<hasInteractionCell>true</hasInteractionCell>
		<interactionCellOffset>(0,0,-1)</interactionCellOffset>
		<terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
		<passability>PassThroughOnly</passability>
		<fillPercent>0.3</fillPercent>
		<pathCost>42</pathCost>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>
		<surfaceType>Item</surfaceType>
		<drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
		<placeWorkers>
			<li>PlaceWorker_PreventInteractionSpotOverlap</li>
		</placeWorkers>
		<inspectorTabs>
			<li>ITab_Bills</li>
		</inspectorTabs>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>350</basePowerConsumption>
				<shortCircuitInRain>true</shortCircuitInRain>
				<idlePowerDraw>50</idlePowerDraw>
			</li>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Breakdownable"/>
		</comps>
	</ThingDef>
</Defs>